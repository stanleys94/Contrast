@model IList<CONTRAST_WEB.Models.vw_request_summary>
@{
    ViewBag.Title = "Travel Status List";
    Layout = "~/Views/Shared/_Layout.Mobile.cshtml";
}
<div class="container">
    <div style="margin-top:100px;" id="products" class="row list-group _3EibU">
        @for (var i = 0; i < Model.Count; i++)
        {
            var item = Model[i];

            <div class="item col-xs-12">
                <div class="thumbnail">
                    <div class="clearfix">
                        <div class="column content">
                            @using (Html.BeginForm("Details", "TravelStatus", Model[i]))
                            {
                                <input type="image" img style="margin-top:5px; width:auto; height:50px" src="~/img/Travel-Status-icon-b.png" />
                            }
                        </div>

                        <div style="padding-left:5px;" class="column menu">
                            <div>
                                <strong>TR @Html.DisplayFor(m => item.id_request)</strong>
                            </div>
                            @*<div>
                                <span class="fnt3">Noreg @Html.DisplayFor(m => item.no_reg)</span>
                            </div>*@
                            <div>
                                <span class="fnt3"><strong>To</strong> @Html.DisplayFor(m => item.destination_1)</span>
                            </div>
                            <div>
                                <span class="fnt3"><strong>For</strong> @Html.DisplayFor(m => item.duration_1) days</span>
                            </div>
                            <div>
                                <span style="color:lightseagreen;" class="fnt1">
                                    @if (Model[i].apprv_flag_lvl2 != null)
                                    {
                                        if (Model[i].apprv_flag_lvl2 == "0")
                                        {
                                            @Html.Label("Waiting for", new { @style = "color:orange; margin-bottom:0px;" })
                                            <br />
                                            @ViewBag.Bossname[i]
                                        }
                                        else
                                        if (Model[i].apprv_flag_lvl2 == "1")
                                        {
                                            @Html.Label("Approved by", new { @style = "color:blue; margin-bottom:0px;" })
                                            <br />
                                            @ViewBag.Bossname[i]
                                        }
                                        else
                                        if (Model[i].apprv_flag_lvl2 == "2" || Model[i].apprv_flag_lvl2 == "3")
                                        {
                                            @Html.Label("Rejected by", new { @style = "color:red; margin-bottom:0px;" })
                                            <br />
                                            @ViewBag.Bossname[i]
                                        }
                                        else
                                        {
                                            @Html.Label("No record")
                                        }
                                    }
                                    else
                                    if (Model[i].apprv_flag_lvl1 != null)
                                    {
                                        if (Model[i].apprv_flag_lvl1 == "0")
                                        {
                                            @Html.Label("Waiting for ", new { @style = "color:orange;  margin-bottom:0px;" })
                                            <br />
                                            @ViewBag.Bossname[i]
                                        }
                                        else
                                         if (Model[i].apprv_flag_lvl1 == "1")
                                        {
                                            @Html.Label("Approved by", new { @style = "color:blue" })
                                            <br />
                                            @ViewBag.Bossname[i]
                                        }
                                        else
                                        if (Model[i].apprv_flag_lvl1 == "2" || Model[i].apprv_flag_lvl1 == "3")
                                        {
                                            @Html.Label("Rejected by", new { @style = "color:red" })
                                            <br />
                                            @ViewBag.Bossname[i]
                                        }
                                        else
                                        {
                                            @Html.Label("No record")
                                        }
                                    }
                                </span>
                            </div>

                        </div>

                        <div style="text-align:center;" class="column">
                            <span><strong style="color:darkgray">BUDGET</strong> </span><br />
                            <h5>
                            <strong style="color:green;">
                                <span>Rp.</span>
                                <span>
                                @String.Format("{0:n0}", item.grand_total_allowance)
                                </span>
                            </strong>
                            </h5>
                        </div>
                    </div>
                </div>
            </div>


        }
    </div>
</div>


<script>
    function goBack() {
        window.history.back();
    }
</script>
